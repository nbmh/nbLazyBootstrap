!function(a){"use strict";void 0==a.nbLazyBootstrap&&(a.nbLazyBootstrap={},a.nbLazyBootstrap.modules=[],a.nbLazyBootstrap.module={},a.nbLazyBootstrap.options={}),a.nbLazyBootstrap.module=function(b,c){return void 0!=c?(a.nbLazyBootstrap.modules.push(a.extend(c,{name:b.toLowerCase()})),null):a.module(b.toLowerCase())},a.nbLazyBootstrap.root=function(){return a.module(a.nbLazyBootstrap.run("name"))},a.nbLazyBootstrap.run=function(b){if(void 0!=b&&"string"==typeof b)switch(b){case"name":return a.nbLazyBootstrap.options.name;default:throw"Unkwnown nbLazyBootstrap command"}var c=a.extend({name:"bootstrap",requires:[],directive:[],service:[],filter:[],vendor:[],external:[],config:!1,run:!1,lazy:{cache:!0,timeout:6e4,reconfig:!1,rerun:!1,serie:!1,insertBefore:void 0},directories:{modules:"module",controllers:"controller",directives:"directive",services:"service",filters:"filter",views:"view",vendors:"vendor"}},b),d=function(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})},e=function(a){var b=Object.keys(a)[0];return{name:d(b),module:a[b].toLowerCase()}},f=function(){c.requires.unshift("oc.lazyLoad"),a.nbLazyBootstrap.options=c;var b,f=[],g=[],h=[],i=function(b,c){return a.merge(a.copy(b),c)},j=function(b,f,g){var h=a.copy(f);return void 0!=g.directive&&g.directive.length&&a.forEach(g.directive,function(f){var g,i;a.isObject(f)?(i=e(f),g=c.directories.modules+"/"+i.module+"/"+c.directories.directives+"/"+i.name+".js"):g=b+"/"+c.directories.directives+"/"+d(f)+".js",h.push(g)}),void 0!=g.service&&g.service.length&&a.forEach(g.service,function(f){var g,i;a.isObject(f)?(i=e(f),g=c.directories.modules+"/"+i.module+"/"+c.directories.services+"/"+i.name+".js"):g=b+"/"+c.directories.services+"/"+d(f)+".js",h.push(g)}),void 0!=g.filter&&g.filter.length&&a.forEach(g.filter,function(f){var g,i;a.isObject(f)?(i=e(f),g=c.directories.modules+"/"+i.module+"/"+c.directories.filters+"/"+i.name+".js"):g=b+"/"+c.directories.filters+"/"+d(f)+".js",h.push(g)}),void 0!=g.vendor&&g.vendor.length&&a.forEach(g.vendor,function(a){h.push(c.directories.vendors+"/"+a)}),void 0!=g.external&&g.external.length&&a.forEach(g.external,function(a){h.push(a)}),h},k=a.copy(c.requires);return a.forEach(a.nbLazyBootstrap.modules,function(b){var c=b.name.toLowerCase();if(-1==k.indexOf(c)){var d=a.module(c,b.requires||[]);void 0!=b.config&&b.config!==!1&&d.config(b.config),g.push(d),k.push(c)}}),void 0!=c.directive&&c.directive.length&&a.forEach(c.directive,function(b){var f,g;a.isObject(b)?(g=e(b),f=c.directories.modules+"/"+g.module+"/"+c.directories.directives+"/"+g.name+".js"):f=c.directories.vendors+"/"+c.directories.directives+"/"+d(b)+".js",h.push(f)}),void 0!=c.service&&c.service.length&&a.forEach(c.service,function(b){var f,g;a.isObject(b)?(g=e(b),f=c.directories.modules+"/"+g.module+"/"+c.directories.services+"/"+g.name+".js"):f=c.directories.vendors+"/"+c.directories.services+"/"+d(b)+".js",h.push(f)}),void 0!=c.filter&&c.filter.length&&a.forEach(c.filter,function(b){var f,g;a.isObject(b)?(g=e(b),f=c.directories.modules+"/"+g.module+"/"+c.directories.filters+"/"+g.name+".js"):f=c.directories.vendors+"/"+c.directories.filters+"/"+d(b)+".js",h.push(f)}),void 0!=c.vendor&&c.vendor.length&&a.forEach(c.vendor,function(a){h.push(c.directories.vendors+"/"+a)}),void 0!=c.external&&c.external.length&&a.forEach(c.external,function(a){h.push(a)}),b=a.module(c.name,k),b.config(["$stateProvider","$urlRouterProvider",function(b,e){var g=!1;a.forEach(a.nbLazyBootstrap.modules,function(k){if(void 0!=k.navigation&&a.isArray(k.navigation)&&(f=a.merge(f,k.navigation)),void 0!=k.state){var l=k.name.toLowerCase(),m=c.directories.modules+"/"+l+"/",n=j(m,h,k),o=i(c.lazy,k.lazy||{});b.state(c.name,{url:"","abstract":!0,templateUrl:c.directories.modules+"/"+c.name+".html",resolve:{loadMyCtrl:["$ocLazyLoad",function(a){return a.load(n,o)}]}}),void 0!=k.state&&a.forEach(k.state,function(e,f){if("otherwise"!=f){var g=d(e.controller),h=j(m,n,e),k=i(o,e.lazy||{}),p={url:e.url,"abstract":e["abstract"]===!0,onEnter:void 0!==e.onEnter,controller:l+"."+g,templateUrl:c.directories.modules+"/"+l+"/"+c.directories.views+"/"+g+".html",resolve:{loadMyCtrl:["$ocLazyLoad",function(b){var d=a.copy(h);return d.unshift(m+c.directories.controllers+"/"+g+".js"),b.load(d,k)}]}};b.state(f,p)}}),g||void 0==k.otherwise||(g=!0,e.otherwise(k.otherwise))}}),g||e.otherwise("/")}]),b.provider("$navigation",[function(){var a=this,b=f;a.set=function(a){b=a},a.prepend=function(a){b.push(a)},a.append=function(a){b.push(a)},a.add=function(b){a.append(b)},a.$get=[function(){var a={items:b};return a}]}]),void 0!=c.config&&c.config!==!1&&b.config(c.config),void 0!=c.run&&c.run!==!1&&b.run(c.run),b};return f()}}(angular);